<!-- jshint esversion: 6  -->

<%-include("header") -%>
<body>
  <div class="box"  id="heading">
    <h1 name="title"> <%= listTitle %> </h1>
    <div class="dropright show">
      <a class="btn btn-secondary dropdown-toggle addList" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Lists
      </a>

      <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">

          <!-- <a class="dropdown-item" href="#" id ="newList">Add a New List</a> -->
          <!-- Button trigger modal -->
<button type="button" class="btn btn-light" data-toggle="modal" data-target="#exampleModalCenter">
  Add/Find a List
</button>
<a class="dropdown-item" href="/">Today's List</a>
      </div>
    </div>
  </div>

    <div class="box">
        <%items.forEach(function(item){%>

        <form action="/delete" method="post">
              <div class="item">
          <input type="checkbox" onchange="this.form.submit()" name="checkbox" value="<%=item._id%>">
          <p> <%= item.name %> </p>
          </div>
          <input type="hidden" name="listName" value="<%=listTitle%>">
            </form>

        <% }); %>




    <form class="item" action="/" method="post">
  <input  type="text" name="itemlist" placeholder="New Item" autocomplete="off">
     <button type="submit" class="addButton" name="list" value="<%=listTitle%>">+</button>
       </form>

      </div>
      <!-- Modal -->
          <form action="/" method="post">
      <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLongTitle">Add/Find a Title</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>

              <div class="modal-body">
                <p>
                  Create a new list or find an existing one.
                  </p>
                <input type="text" name="listTitle" placeholder="List Name">
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                <button type="submit" class="btn btn-primary">Add/Find</button>
              </div>
            </div>
          </div>
          </div>
            </form>



  </body>

  <%-include("footer") -%>
